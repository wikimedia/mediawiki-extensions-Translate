{
  "comments": [
    {
      "key": {
        "uuid": "ce38dbff_7d3997ca",
        "filename": "TranslateEditAddons.php",
        "patchSetId": 5
      },
      "lineNbr": 173,
      "author": {
        "id": 93
      },
      "writtenOn": "2016-04-13T13:13:20Z",
      "side": 1,
      "message": "FuzzyBot does do updates for imports at translatewiki.net. As those are only bunch of MessageUpdateJobs, it is not possible to just do one clearing once in the end.\n\nWould it be enough to keep this check only in PageTranslationHooks::onSectionSave?\n\nAlso, why not recache the stats immediately as well here?",
      "revId": "05f74ebff3c11e1ccb8a09c29749274e39d84c81",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce38dbff_e35fc811",
        "filename": "TranslateEditAddons.php",
        "patchSetId": 5
      },
      "lineNbr": 173,
      "author": {
        "id": 892
      },
      "writtenOn": "2016-04-13T16:17:09Z",
      "side": 1,
      "message": "I was hoping we could resolve T102229 by ignoring FuzzyBot when pages are marked for translation. Is it not possible to clear stats once after all the jobs are run (like what we do in TranslationsUpdateJob) for imports like that? If that is not possible, we would probably have to have do something like $allowTargetEdit in PageTranslationHooks when normal pages are marked for translation. Thoughts?",
      "parentUuid": "ce38dbff_7d3997ca",
      "revId": "05f74ebff3c11e1ccb8a09c29749274e39d84c81",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce38dbff_e3ece822",
        "filename": "TranslateEditAddons.php",
        "patchSetId": 5
      },
      "lineNbr": 173,
      "author": {
        "id": 93
      },
      "writtenOn": "2016-04-13T16:29:57Z",
      "side": 1,
      "message": "Not really, because they are separate jobs, not one job.\n\nMy unconfirmed suspicion is that the issue is caused by multiple servers noticing simultaneously that the value is missing. For that the fix would be to just to refresh the number immediately rather than just clearing it.\n\nWe could also think about ignoring changes to the message group source language, since those can be assumed to be always 100% up to date.",
      "parentUuid": "ce38dbff_e35fc811",
      "revId": "05f74ebff3c11e1ccb8a09c29749274e39d84c81",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce38dbff_dd5f0312",
        "filename": "TranslateEditAddons.php",
        "patchSetId": 5
      },
      "lineNbr": 179,
      "author": {
        "id": 93
      },
      "writtenOn": "2016-04-13T13:13:20Z",
      "side": 1,
      "message": "The hook is now unused in Translate and I pretty sure it is not used outside of Translate, so it could be removed.",
      "revId": "05f74ebff3c11e1ccb8a09c29749274e39d84c81",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}