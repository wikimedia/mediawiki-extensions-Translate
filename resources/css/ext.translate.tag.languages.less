@import '../lib/theme-wikimedia-ui-next.less';
@import 'mediawiki.skin.variables.less';

.mw-pt-languages {
	background-color: @background-color-interactive-subtle;
	color: @color-base;
	display: table;
	border-bottom: @border-base;
	box-sizing: border-box;
	line-height: 1.2;
	width: 100%;
	clear: both;
	overflow: auto;

	/* Ensure bullets are on the same side and handle ::after in mixed-directionality context */
	&[ dir='ltr' ] .mw-pt-progress[ dir='rtl' ],
	&[ dir='rtl' ] .mw-pt-progress[ dir='ltr' ] {
		flex-direction: row-reverse;
	}
}

/* Visually merge languages box border into translate box where available */
.mw-pt-translate-header ~ .mw-parser-output .mw-pt-languages {
	margin-top: -1px;
}

.mw-pt-languages-label {
	padding: 0.5em;
	font-weight: bold;
	white-space: nowrap;
}

/* Increased specificity to override .mw-content-(rtl|ltr) ul { padding: 0; } */
.mw-pt-languages .mw-pt-languages-list {
	padding: 0.5em;
}

.mw-pt-languages-list li {
	display: inline-block;
	margin: 0 0.2em 0 0.2em;
}

.mw-pt-languages-selected,
.mw-pt-languages-ui {
	font-weight: bold;
}

.mw-pt-progress {
	display: flex;
	align-items: baseline;
}

.mw-pt-progress::after {
	content: '';
	height: 0.7em;
	width: 0.7em;
	border-radius: 50%;
	border: 0;
	outline: @border-width-base @border-style-base @color-progressive;
	box-sizing: border-box;
	margin-left: 3px;
	flex-shrink: 0;
}

.uls-language-list .mw-pt-progress::after {
	margin-right: 4px;
}

.mw-pt-progress > a {
	flex-grow: 1;
}

/** Remove default Vector image that appears when JS is disabled */
.client-nojs ul li.mw-pt-progress--none {
	list-style-image: none;
	list-style-type: none;
}

/* Need very high specificity to override skin styles in the sidebar */
#mw-panel .portal .body .mw-pt-progress--none a,
.interwiki-pagetranslation.mw-pt-progress--none a {
	color: @color-link-red;
}

#mw-panel .portal .body .mw-pt-progress--none a:visited,
.interwiki-pagetranslation.mw-pt-progress--none a:visited {
	color: @color-link-red--visited;
}

.mw-pt-progress--low::after {
	border: @border-width-thick @border-style-base @color-placeholder;
	outline: 0;
	background: conic-gradient( @color-progressive 0deg, @background-color-transparent 0deg );
}

.mw-pt-progress--med::after {
	/* Blue filling up to a half. */
	background: conic-gradient( @color-progressive 180deg, @background-color-transparent 0deg );
}

.mw-pt-progress--high::after {
	/* Blue filling almost the full circle. */
	background: conic-gradient( @color-progressive 252deg, @background-color-transparent 0deg );
}

.mw-pt-progress--complete::after {
	/* Fully blue */
	background: conic-gradient( @background-color-transparent 0, @color-progressive 0 );
}

@media screen and ( min-width: @min-width-breakpoint-tablet ) {
	.mw-pt-languages-label {
		display: table-cell;
		/* Given `white-space: nowrap` above, label never shrinks underneath textual content. */
		width: 1%;
	}

	.mw-pt-languages-list {
		display: table-cell;
	}
}
