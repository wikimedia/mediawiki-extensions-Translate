{
  "comments": [
    {
      "key": {
        "uuid": "8ec42329_eaf3d504",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-30T13:26:18Z",
      "side": 1,
      "message": "Why don\u0027t you set $wgSourceLanguage as the default? That would simplify a lot of code.",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_674f056f",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-02T11:33:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ec42329_eaf3d504",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_8acb31a8",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 97,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-30T13:26:18Z",
      "side": 1,
      "message": "Use setValue",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_0752c115",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 97,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-02T11:33:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ec42329_8acb31a8",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_aa562dcf",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 273,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-30T13:26:18Z",
      "side": 1,
      "message": "Missing spaces",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_27557dfc",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 273,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-02T11:33:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ec42329_aa562dcf",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_ea60b5a1",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 278,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-30T13:26:18Z",
      "side": 1,
      "message": "Unused variable",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_c73fd9af",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 278,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-02T11:33:33Z",
      "side": 1,
      "message": "Using it to set \u0027localid\u0027 in the next line.",
      "parentUuid": "8ec42329_ea60b5a1",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_93cb5020",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 278,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-03T16:56:50Z",
      "side": 1,
      "message": "Is there any method for title object to retrieve only message name with namespace and without language code, e.g. Mediawiki:title-name?",
      "parentUuid": "8ec42329_ea60b5a1",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_4a6f898f",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 417,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-30T13:26:18Z",
      "side": 1,
      "message": "Just use empty string as above. FormOptions is responsible for taking care of default values.",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_e73a15bf",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 417,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-02T11:33:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ec42329_4a6f898f",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_6a6cc599",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 419,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-30T13:26:18Z",
      "side": 1,
      "message": "You don\u0027t need to set this at all at this point.",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_87455149",
        "filename": "specials/SpecialSearchTranslations.php",
        "patchSetId": 7
      },
      "lineNbr": 419,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-02T11:33:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ec42329_6a6cc599",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_4af6a9d5",
        "filename": "ttmserver/ElasticSearchTTMServer.php",
        "patchSetId": 7
      },
      "lineNbr": 478,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-30T13:26:18Z",
      "side": 1,
      "message": "It seems this whole block would be unnecessary if we just overwrite language to be the sourcelanguage in SpecialSearchTranslations, right?",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_67a5c5ff",
        "filename": "ttmserver/ElasticSearchTTMServer.php",
        "patchSetId": 7
      },
      "lineNbr": 478,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-02T11:33:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ec42329_4af6a9d5",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_6af365e3",
        "filename": "ttmserver/ElasticSearchTTMServer.php",
        "patchSetId": 7
      },
      "lineNbr": 520,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-30T13:26:18Z",
      "side": 1,
      "message": "Same here.",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_07a881d6",
        "filename": "ttmserver/ElasticSearchTTMServer.php",
        "patchSetId": 7
      },
      "lineNbr": 520,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-02T11:33:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ec42329_6af365e3",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_0a13c106",
        "filename": "ttmserver/ElasticSearchTTMServer.php",
        "patchSetId": 7
      },
      "lineNbr": 556,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-30T13:26:18Z",
      "side": 1,
      "message": "This loop looks ugly and not very efficient. Special:SearchTranslation should increase the $limit parameter to something large but still reasonable, say 1000.\n\nEven better yet, the loop would be in SpecialSearchTranslations instead of here so it would actually be more efficient because:\n1) it knows the offset so it doesn\u0027t need to start from zero always\n2) it knows after running message collection filtering whether it needs more messages or not.",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_190477c8",
        "filename": "ttmserver/ElasticSearchTTMServer.php",
        "patchSetId": 7
      },
      "lineNbr": 556,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-07-31T12:02:59Z",
      "side": 1,
      "message": "Currently, the loop runs twice at max if filter is present, this is done to fetch all the message keys in the source language. If there are 4000 messages found, then the first iteration fetch $limit size results and the second iteration fetch all the messages.\nI like the idea to increase the $limit parameter to something large, e.g. 1000. But why do we have to remove the loop from here? If there are 4000 messages found, then we are fetching only 1000 messages. Are you saying to loop through in Special:SearchTranslations(four times)? \nAlso, suppose we found 25($limit) messages after filtering message collection within those 1000 messages then should we no more loop through the rest 3000? Won\u0027t the total count of messages after filtering be incorrect( since it only came from the first 1000 and not from the remaining 3000 )?",
      "parentUuid": "8ec42329_0a13c106",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_79a25b94",
        "filename": "ttmserver/ElasticSearchTTMServer.php",
        "patchSetId": 7
      },
      "lineNbr": 556,
      "author": {
        "id": 93
      },
      "writtenOn": "2015-07-31T12:34:18Z",
      "side": 1,
      "message": "There should be some kind of hard limit. Just loading a lot of messages itself can cause us to run out of memory. With some reasonable limit, be it 1000 or 4000, we can hopefully avoid excessive resource usage and do just one query instead of two.\n\nAlso when the user pages the results 25 at a time, the queries don\u0027t get faster on the ES side according to https://www.elastic.co/guide/en/elasticsearch/guide/current/pagination.html which is another reason to impose some limits.",
      "parentUuid": "8ec42329_190477c8",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec42329_27ab3dd5",
        "filename": "ttmserver/ElasticSearchTTMServer.php",
        "patchSetId": 7
      },
      "lineNbr": 556,
      "author": {
        "id": 2164
      },
      "writtenOn": "2015-08-02T11:33:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8ec42329_0a13c106",
      "revId": "827a58e6d3280164d632d83fe1dc80d83be87451",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}